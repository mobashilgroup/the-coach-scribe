<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-i18n="app.title">The Coach Scribe</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Font Awesome -->
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Inter Font -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- PWA Meta Tags -->
    <meta name="theme-color" content="#4f46e5">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Coach Scribe">
    <link rel="apple-touch-icon" href="./assets/icon-192x192.png">
    
    <!-- Manifest -->
    <link rel="manifest" href="./manifest.json">
    
    <!-- Config -->
    <script src="./config.js"></script>
    
    <!-- Tokens -->
    <script src="./tokens.js"></script>
    
    <!-- Custom Styles -->
    <link rel="stylesheet" href="./assets/styles.css">
    
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        
        .phone-frame {
            width: 100%;
            max-width: 375px;
            height: 812px;
            border-radius: 40px;
            border: 12px solid #1a1a1a;
            position: relative;
            overflow: hidden;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.3);
            background: #ffffff;
            margin: 0 auto;
        }
        
        .phone-notch {
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 150px;
            height: 30px;
            background: #1a1a1a;
            border-radius: 0 0 20px 20px;
            z-index: 10;
        }
        
        .phone-content {
            width: 100%;
            height: 100%;
            overflow-y: auto;
            overflow-x: hidden;
            position: relative;
            display: flex;
            flex-direction: column;
        }
        
        .screen {

            display: none;
            flex: 1;
            overflow-y: auto;
            padding-bottom: 80px;
        }
        
        .screen.active {
            display: block;
        }
        
        .bottom-nav {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 70px;
            background: white;
            border-top: 1px solid #e5e7eb;
            display: flex;
            justify-content: space-around;
            align-items: center;
            z-index: 20;
        }
        
        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            padding: 5px 10px;
            border-radius: 8px;
            transition: all 0.2s;
        }
        
        .nav-item:hover {
            background: #f3f4f6;
        }
        
        .nav-item.active {
            color: #4f46e5;
        }
        
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 100;
            align-items: center;
            justify-content: center;
        }
        
        .modal.active {
            display: flex;
        }
        
        .modal-content {
            background: white;
            border-radius: 16px;
            padding: 24px;
            max-width: 90%;
            max-height: 80%;
            overflow-y: auto;
            width: 320px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
        }
        
        .modal-content-large {
            width: 90%;
            max-width: 500px;
        }
        
        .toast {
            position: fixed;
            bottom: 100px;
            left: 50%;
            transform: translateX(-50%);
            background: #1f2937;
            color: white;
            padding: 12px 24px;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            z-index: 200;
            opacity: 0;
            transition: opacity 0.3s;
        }
        
        .toast.show {
            opacity: 1;
        }
        
        .recording-indicator {
            display: inline-block;
            width: 12px;
            height: 12px;
            background: #ef4444;
            border-radius: 50%;
            margin-right: 8px;
            animation: pulse 1.5s infinite;
        }
        
        @keyframes pulse {
            0% {
                box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.7);
            }
            70% {
                box-shadow: 0 0 0 10px rgba(239, 68, 68, 0);
            }
            100% {
                box-shadow: 0 0 0 0 rgba(239, 68, 68, 0);
            }
        }
        
        .transcription-line {
            margin-bottom: 12px;
            animation: fadeIn 0.5s;
        }
        
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .marker-button {
            transition: all 0.2s;
        }
        
        .marker-button:hover {
            transform: scale(1.05);
        }
        
        .marker-button:active {
            transform: scale(0.95);
        }
        
        .gradient-button {
            background: linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%);
            transition: all 0.3s;
        }
        
        .gradient-button:hover {
            background: linear-gradient(135deg, #4338ca 0%, #6d28d9 100%);
            box-shadow: 0 4px 12px rgba(79, 70, 229, 0.4);
        }
        
        .online-indicator {
            display: inline-block;
            width: 8px;
            height: 8px;
            background: #10b981;
            border-radius: 50%;
            margin-right: 8px;
        }
        
        .offline-indicator {
            display: inline-block;
            width: 8px;
            height: 8px;
            background: #ef4444;
            border-radius: 50%;
            margin-right: 8px;
        }
        
        .screen-content {
            padding-bottom: 80px;
        }
        
        .policy-content {
            font-size: 14px;
            line-height: 1.5;
        }
        
        .policy-content h3 {
            font-size: 16px;
            font-weight: 600;
            margin-top: 16px;
            margin-bottom: 8px;
        }
        
        .policy-content p {
            margin-bottom: 12px;
        }
        
        .policy-content ul {
            margin-left: 20px;
            margin-bottom: 12px;
        }
        
        .policy-content li {
            margin-bottom: 6px;
        }
        
        .google-signin-button {
            display: flex;
            align-items: center;
            justify-content: center;
            background: white;
            border: 1px solid #dadce0;
            border-radius: 4px;
            padding: 10px 16px;
            font-family: 'Roboto', sans-serif;
            font-size: 14px;
            font-weight: 500;
            color: #3c4043;
            cursor: pointer;
            transition: box-shadow 0.2s;
            width: 100%;
            margin-bottom: 16px;
        }
        
        .google-signin-button:hover {
            box-shadow: 0 1px 2px 0 rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
        }
        
        .google-signin-button .google-icon {
            width: 18px;
            height: 18px;
            margin-right: 8px;
        }
        
        .spinner {
            border: 3px solid rgba(0, 0, 0, 0.1);
            border-radius: 50%;
            border-top: 3px solid #4f46e5;
            width: 24px;
            height: 24px;
            animation: spin 1s linear infinite;
            margin: 0 auto;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        @media (min-width: 400px) {
            body {
                background-color: #f3f4f6;
                padding: 20px;
            }
            
            .phone-frame {
                box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
            }
        }
    </style>
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen p-4">
    <div class="phone-frame">
        <div class="phone-notch"></div>
        <div class="phone-content">
            <!-- Sign-In Screen -->
            <div id="signin-screen" class="screen active p-6">
                <div class="flex flex-col items-center justify-center h-full">
                    <div class="w-20 h-20 rounded-full bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center mb-8">
                        <i class="fas fa-microphone-alt text-white text-3xl"></i>
                    </div>
                    <h1 data-i18n="app.title" class="text-2xl font-bold text-gray-800 mb-2">The Coach Scribe</h1>
                    <p data-i18n="app.subtitle" class="text-gray-600 text-center mb-8 px-4">Transform your coaching practice with AI-powered insights and emotional understanding for deeper client connections.</p>
                    
                    <!-- Google Sign-In Button -->
                    <button id="google-signin-btn" class="google-signin-button">
                        <svg class="google-icon" viewBox="0 0 24 24">
                            <path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/>
                            <path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/>
                            <path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/>
                            <path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/>
                        </svg>
                        <span data-i18n="auth.signIn">Sign in with Google</span>
                    </button>
                    
                    <div id="signin-loading" class="hidden mb-4">
                        <div class="spinner"></div>
                        <p data-i18n="auth.signingIn" class="text-gray-600 text-sm mt-2">Signing in...</p>
                    </div>
                    
                    <div id="signin-error" class="hidden text-red-500 text-sm mb-4 text-center">
                        <span data-i18n="auth.signInError">Failed to sign in. Please try again.</span>
                    </div>
                    
                    <p class="text-gray-500 text-xs text-center mt-8">
                        <span data-i18n="auth.agreement">By signing in, you agree to our</span> 
                        <a href="#" id="signin-terms-link" class="text-indigo-600"><span data-i18n="auth.terms">Terms of Service</span></a> 
                        <span data-i18n="auth.and">and</span> 
                        <a href="#" id="signin-privacy-link" class="text-indigo-600"><span data-i18n="auth.privacy">Privacy Policy</span></a>
                    </p>
                </div>
            </div>
            
            <!-- Home Screen -->
            <div id="home-screen" class="screen p-6">
                <div class="flex flex-col items-center justify-center h-full">
                    <div class="w-20 h-20 rounded-full bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center mb-6">
                        <i class="fas fa-microphone-alt text-white text-3xl"></i>
                    </div>
                    <h1 data-i18n="app.title" class="text-2xl font-bold text-gray-800 mb-2">The Coach Scribe</h1>
                    <p data-i18n="app.subtitle" class="text-gray-600 text-center mb-8 px-4">Transform your coaching practice with AI-powered insights and emotional understanding for deeper client connections.</p>
                    
                    <!-- User Info -->
                    <div id="user-info" class="bg-indigo-50 rounded-lg p-4 mb-6 w-full max-w-xs">
                        <div class="flex items-center">
                            <img id="user-avatar" src="https://picsum.photos/seed/user/40/40.jpg" class="w-10 h-10 rounded-full mr-3">
                            <div>
                                <p id="user-name" class="font-medium text-gray-800">Coach User</p>
                                <p id="user-email" class="text-sm text-gray-600">user@example.com</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Activation Status -->
                    <div id="activation-container" class="bg-gray-100 rounded-lg p-4 mb-6 w-full max-w-xs">
                        <div class="flex items-center justify-between">
                            <span id="activation-status-text" data-i18n="home.activationStatus" class="text-gray-700">Device not activated</span>
                            <button id="activate-btn" class="text-indigo-600 font-medium">
                                <span data-i18n="home.activateNow">Activate Now</span>
                            </button>
                        </div>
                    </div>
                    
                    <!-- Plan Info (si está activado) -->
                    <div id="plan-info" class="hidden bg-indigo-50 rounded-lg p-4 mb-6 w-full max-w-xs">
                        <div class="flex items-center justify-between mb-2">
                            <span id="plan-name" class="text-indigo-700 font-medium">Plan Básico</span>
                            <span id="plan-sessions" class="text-indigo-700 font-medium">0/20 sesiones</span>
                        </div>
                        <div class="w-full bg-indigo-200 rounded-full h-2">
                            <div id="plan-progress" class="bg-indigo-600 h-2 rounded-full" style="width: 0%"></div>
                        </div>
                        <p id="plan-remaining" class="text-xs text-indigo-600 mt-1">20 sesiones restantes</p>
                    </div>
                    
                    <!-- New Session Button -->
                    <button id="new-session-btn" class="gradient-button text-white font-medium py-3 px-8 rounded-full mb-6 w-full max-w-xs">
                        <i class="fas fa-plus mr-2"></i>
                        <span data-i18n="home.newSession">New Session</span>
                    </button>
                    
                    <!-- Language Selector -->
                    <button id="language-selector-btn" class="text-indigo-600 font-medium py-2 px-4 rounded-lg border border-indigo-200 w-full max-w-xs">
                        <i class="fas fa-globe mr-2"></i>
                        <span data-i18n="home.selectLanguage">Select Language</span>
                    </button>
                    
                    <!-- Sign Out Button -->
                    <button id="signout-btn" class="text-gray-500 text-sm mt-4">
                        <i class="fas fa-sign-out-alt mr-1"></i>
                        <span data-i18n="auth.signOut">Sign Out</span>
                    </button>
                </div>
            </div>
            
            <!-- Plans Screen -->
            <div id="plans-screen" class="screen p-6">
                <div class="mb-6">
                    <h2 data-i18n="plans.title" class="text-xl font-bold text-gray-800 mb-6">Elige tu plan</h2>
                    
                    <div class="space-y-4">
                        <!-- Plan Básico -->
                        <div class="border rounded-lg p-4">
                            <div class="flex justify-between items-start mb-2">
                                <h3 class="font-bold text-lg">Básico</h3>
                                <span class="text-2xl font-bold">$49</span>
                            </div>
                            <p class="text-gray-600 mb-3">Perfecto para coaches principiantes</p>
                            <ul class="space-y-1 mb-4">
                                <li class="flex items-center">
                                    <i class="fas fa-check text-green-500 mr-2"></i>
                                    <span>20 sesiones mensuales</span>
                                </li>
                                <li class="flex items-center">
                                    <i class="fas fa-check text-green-500 mr-2"></i>
                                    <span>Resúmenes con IA</span>
                                </li>
                                <li class="flex items-center">
                                    <i class="fas fa-check text-green-500 mr-2"></i>
                                    <span>Gestión de clientes</span>
                                </li>
                            </ul>
                            <button class="w-full py-2 bg-gray-200 rounded-lg font-medium" onclick="selectPlan('basic')">
                                Seleccionar Básico
                            </button>
                        </div>
                        
                        <!-- Plan Pro -->
                        <div class="border-2 border-indigo-500 rounded-lg p-4 relative">
                            <div class="absolute -top-2 left-4 bg-indigo-500 text-white px-2 py-1 rounded text-xs">POPULAR</div>
                            <div class="flex justify-between items-start mb-2">
                                <h3 class="font-bold text-lg">Pro</h3>
                                <span class="text-2xl font-bold">$99</span>
                            </div>
                            <p class="text-gray-600 mb-3">Para coaches establecidos</p>
                            <ul class="space-y-1 mb-4">
                                <li class="flex items-center">
                                    <i class="fas fa-check text-green-500 mr-2"></i>
                                    <span>50 sesiones mensuales</span>
                                </li>
                                <li class="flex items-center">
                                    <i class="fas fa-check text-green-500 mr-2"></i>
                                    <span>Todo lo básico</span>
                                </li>
                                <li class="flex items-center">
                                    <i class="fas fa-check text-green-500 mr-2"></i>
                                    <span>Análisis avanzado</span>
                                </li>
                            </ul>
                            <button class="w-full py-2 bg-indigo-600 text-white rounded-lg font-medium" onclick="selectPlan('pro')">
                                Seleccionar Pro
                            </button>
                        </div>
                        
                        <!-- Plan Premium -->
                        <div class="border-2 border-purple-500 rounded-lg p-4 relative">
                            <div class="absolute -top-2 left-4 bg-purple-500 text-white px-2 py-1 rounded text-xs">PREMIUM</div>
                            <div class="flex justify-between items-start mb-2">
                                <h3 class="font-bold text-lg">Premium</h3>
                                <span class="text-2xl font-bold">$139</span>
                            </div>
                            <p class="text-gray-600 mb-3">Para coaches de alto volumen</p>
                            <ul class="space-y-1 mb-4">
                                <li class="flex items-center">
                                    <i class="fas fa-check text-green-500 mr-2"></i>
                                    <span>100 sesiones mensuales</span>
                                </li>
                                <li class="flex items-center">
                                    <i class="fas fa-check text-green-500 mr-2"></i>
                                    <span>Todo lo Pro</span>
                                </li>
                                <li class="flex items-center">
                                    <i class="fas fa-check text-green-500 mr-2"></i>
                                    <span>Soporte prioritario</span>
                                </li>
                            </ul>
                            <button class="w-full py-2 bg-purple-600 text-white rounded-lg font-medium" onclick="selectPlan('premium')">
                                Seleccionar Premium
                            </button>
                        </div>
                    </div>
                    
                    <!-- Opción de activación con código -->
                    <div class="mt-6 text-center">
                        <p class="text-gray-600 mb-2">¿Tienes un código de activación?</p>
                        <button class="text-indigo-600 font-medium" onclick="showTokenActivation()">
                            Activar con código
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Token Activation Screen -->
            <div id="token-screen" class="screen p-6">
                <div class="mb-6">
                    <div class="flex items-center mb-6">
                        <button id="back-to-plans-btn" class="mr-4 text-gray-600">
                            <i class="fas fa-arrow-left"></i>
                        </button>
                        <h2 data-i18n="token.title" class="text-xl font-bold text-gray-800">Activar con código</h2>
                    </div>
                    
                    <p data-i18n="token.description" class="text-gray-600 mb-6">
                        Ingresa tu código de activación para desbloquear todas las funciones de la aplicación.
                    </p>
                    
                    <div class="mb-6">
                        <label for="token-input" class="block text-sm font-medium text-gray-700 mb-2">Código de activación</label>
                        <input type="text" id="token-input" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500" placeholder="Ej: COACH-A1B2C3D4">
                    </div>
                    
                    <div id="token-error" class="hidden text-red-500 text-sm mb-4">
                        Código inválido o ya usado
                    </div>
                    
                    <button id="activate-token-btn" class="w-full gradient-button text-white font-medium py-3 px-4 rounded-lg">
                        <span data-i18n="token.activate">Activar</span>
                    </button>
                    
                    <div class="mt-6 text-center">
                        <p class="text-gray-600 text-sm">¿No tienes un código?</p>
                        <button class="text-indigo-600 font-medium" onclick="showPlans()">
                            Comprar un plan
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Consent Screen -->
            <div id="consent-screen" class="screen p-6">
                <div class="mb-8">
                    <h2 data-i18n="consent.title" class="text-xl font-bold text-gray-800 mb-4">Recording Consent</h2>
                    <p data-i18n="consent.description" class="text-gray-600 mb-6">
                        This session will be recorded and transcribed to generate an AI summary (using Gemini). We don't store audio; only text. You can withdraw consent and request deletion.
                    </p>
                    
                    <!-- Legal Compliance -->
                    <div class="bg-yellow-50 rounded-lg p-4 mb-6">
                        <h3 data-i18n="consent.legalTitle" class="font-medium text-gray-800 mb-2">Important Legal Information</h3>
                        <p data-i18n="consent.usLegal" class="text-sm text-gray-600 mb-2">
                            In some jurisdictions, two-party consent is required. Ensure you have consent from all parties being recorded.
                        </p>
                        <p data-i18n="consent.euLegal" class="text-sm text-gray-600 mb-2">
                            Inform about purpose and legal basis (consent), and respect rights of access, rectification, deletion and portability. User can withdraw consent and request deletion.
                        </p>
                        <p data-i18n="consent.dataRetention" class="text-sm text-gray-600">
                            We don't store audio; only text. Text is retained according to chosen retention period (30/90 days).
                        </p>
                        <p data-i18n="consent.legalNote" class="text-xs text-gray-500 mt-2">
                            This content is informational and does not constitute legal advice.
                        </p>
                    </div>
                    
                    <!-- Privacy and Terms Links -->
                    <div class="flex space-x-4 mb-6">
                        <a href="#" id="privacy-link" class="text-indigo-600 text-sm">
                            <span data-i18n="consent.privacyPolicy">Privacy Policy</span>
                        </a>
                        <a href="#" id="terms-link" class="text-indigo-600 text-sm">
                            <span data-i18n="consent.terms">Terms of Service</span>
                        </a>
                    </div>
                    
                    <!-- Consent Checkbox -->
                    <div class="flex items-start mb-8">
                        <input type="checkbox" id="consent-checkbox" class="mt-1 mr-3 h-5 w-5 text-indigo-600 rounded focus:ring-indigo-500">
                        <label for="consent-checkbox" data-i18n="consent.confirm" class="text-gray-700">
                            I agree to be recorded and have the session transcribed to generate an AI summary.
                        </label>
                    </div>
                    
                    <!-- Buttons -->
                    <div class="flex space-x-4">
                        <button id="consent-cancel-btn" class="flex-1 py-3 px-4 border border-gray-300 rounded-lg text-gray-700 font-medium">
                            <span data-i18n="common.cancel">Cancel</span>
                        </button>
                        <button id="consent-accept-btn" disabled class="flex-1 gradient-button text-white font-medium py-3 px-4 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed">
                            <span data-i18n="common.accept">Accept</span>
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Preparation Screen -->
            <div id="preparation-screen" class="screen p-6">
                <div class="mb-8">
                    <h2 data-i18n="preparation.title" class="text-xl font-bold text-gray-800 mb-4">Session Preparation</h2>
                    <p data-i18n="preparation.description" class="text-gray-600 mb-6">
                        Before starting, make sure to follow these tips for best results:
                    </p>
                    
                    <!-- Tips -->
                    <div class="bg-indigo-50 rounded-lg p-4 mb-6">
                        <h3 data-i18n="preparation.tipsTitle" class="font-medium text-gray-800 mb-3">Important Tips:</h3>
                        <ul class="space-y-2">
                            <li class="flex items-start">
                                <i class="fas fa-check-circle text-indigo-500 mt-1 mr-2"></i>
                                <span data-i18n="preparation.tip1" class="text-gray-700">Turn on "Do Not Disturb" mode on your device</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fas fa-check-circle text-indigo-500 mt-1 mr-2"></i>
                                <span data-i18n="preparation.tip2" class="text-gray-700">Ensure you have a good internet connection</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fas fa-check-circle text-indigo-500 mt-1 mr-2"></i>
                                <span data-i18n="preparation.tip3" class="text-gray-700">Do not use Airplane Mode during the session</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fas fa-check-circle text-indigo-500 mt-1 mr-2"></i>
                                <span data-i18n="preparation.tip4" class="text-gray-700">Find a quiet place without background noise</span>
                            </li>
                        </ul>
                    </div>
                    
                    <!-- Buttons -->
                    <div class="flex space-x-4">
                        <button id="preparation-cancel-btn" class="flex-1 py-3 px-4 border border-gray-300 rounded-lg text-gray-700 font-medium">
                            <span data-i18n="common.cancel">Cancel</span>
                        </button>
                        <button id="preparation-ready-btn" class="flex-1 gradient-button text-white font-medium py-3 px-4 rounded-lg">
                            <span data-i18n="preparation.ready">Ready</span>
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Recording Screen -->
            <div id="recording-screen" class="screen p-6">
                <div class="mb-6">
                    <!-- Timer and Status -->
                    <div class="flex justify-between items-center mb-6">
                        <div class="flex items-center">
                            <span class="recording-indicator"></span>
                            <span data-i18n="recording.recording" class="text-red-500 font-medium">Recording</span>
                        </div>
                        <div class="flex items-center">
                            <span id="online-indicator" class="online-indicator"></span>
                            <span id="connection-status" data-i18n="recording.online" class="text-sm text-gray-600">Online</span>
                        </div>
                    </div>
                    
                    <!-- Language Detected -->
                    <div class="bg-gray-100 rounded-lg p-3 mb-6 text-center">
                        <span data-i18n="recording.inLanguage" class="text-gray-600">Recording in </span>
                        <span id="detected-language" class="font-medium">English</span>
                    </div>
                    
                    <!-- Timer -->
                    <div class="text-center mb-6">
                        <div id="recording-timer" class="text-3xl font-mono font-bold text-gray-800">00:00:00</div>
                    </div>
                    
                    <!-- Transcription Area -->
                    <div class="bg-gray-50 rounded-lg p-4 mb-6 h-64 overflow-y-auto">
                        <div id="transcription-container">
                            <!-- Transcription lines will be added here dynamically -->
                        </div>
                    </div>
                    
                    <!-- Marker Buttons -->
                    <div class="flex justify-around mb-8">
                        <button class="marker-button flex flex-col items-center p-3 rounded-lg bg-blue-50 text-blue-600" data-marker="insight">
                            <i class="fas fa-lightbulb text-xl mb-1"></i>
                            <span data-i18n="recording.insight">Insight</span>
                        </button>
                        <button class="marker-button flex flex-col items-center p-3 rounded-lg bg-green-50 text-green-600" data-marker="task">
                            <i class="fas fa-tasks text-xl mb-1"></i>
                            <span data-i18n="recording.task">Task</span>
                        </button>
                        <button class="marker-button flex flex-col items-center p-3 rounded-lg bg-purple-50 text-purple-600" data-marker="goal">
                            <i class="fas fa-bullseye text-xl mb-1"></i>
                            <span data-i18n="recording.goal">Goal</span>
                        </button>
                    </div>
                    
                    <!-- End Session Button -->
                    <button id="end-session-btn" class="w-full py-3 px-4 bg-red-500 text-white font-medium rounded-lg hover:bg-red-600 transition">
                        <i class="fas fa-stop mr-2"></i>
                        <span data-i18n="recording.endSession">End Session</span>
                    </button>
                </div>
            </div>
            
            <!-- Summary Screen -->
            <div id="summary-screen" class="screen p-6">
                <div class="mb-6">
                    <div class="flex items-center justify-between mb-6">
                        <h2 data-i18n="summary.title" class="text-xl font-bold text-gray-800">Session Summary</h2>
                        <div class="text-sm text-gray-500">
                            <span data-i18n="summary.poweredBy">Powered by</span> Gemini
                        </div>
                    </div>
                    
                    <!-- Summary Card -->
                    <div class="bg-white rounded-lg shadow-sm p-4 mb-6">
                        <h3 data-i18n="summary.tldr" class="font-medium text-gray-800 mb-2">Summary</h3>
                        <p id="summary-tldr" class="text-gray-600">
                            The client expressed concern about their work-life balance. Opportunities were identified to improve time management and establish clearer boundaries.
                        </p>
                    </div>
                    
                    <!-- Topics -->
                    <div class="bg-white rounded-lg shadow-sm p-4 mb-6">
                        <h3 data-i18n="summary.topics" class="font-medium text-gray-800 mb-2">Topics</h3>
                        <ul id="summary-topics" class="space-y-1">
                            <li class="flex items-start">
                                <i class="fas fa-circle text-indigo-500 text-xs mt-1.5 mr-2"></i>
                                <span class="text-gray-600">Work-life balance</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fas fa-circle text-indigo-500 text-xs mt-1.5 mr-2"></i>
                                <span class="text-gray-600">Time management</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fas fa-circle text-indigo-500 text-xs mt-1.5 mr-2"></i>
                                <span class="text-gray-600">Boundary setting</span>
                            </li>
                        </ul>
                    </div>
                    
                    <!-- Emotions -->
                    <div class="bg-white rounded-lg shadow-sm p-4 mb-6">
                        <h3 data-i18n="summary.emotions" class="font-medium text-gray-800 mb-2">Emotions</h3>
                        <ul id="summary-emotions" class="space-y-1">
                            <li class="flex items-start">
                                <i class="fas fa-circle text-pink-500 text-xs mt-1.5 mr-2"></i>
                                <span class="text-gray-600">Concern</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fas fa-circle text-pink-500 text-xs mt-1.5 mr-2"></i>
                                <span class="text-gray-600">Hope</span>
                            </li>
                        </ul>
                    </div>
                    
                    <!-- Obstacles -->
                    <div class="bg-white rounded-lg shadow-sm p-4 mb-6">
                        <h3 data-i18n="summary.obstacles" class="font-medium text-gray-800 mb-2">Obstacles</h3>
                        <ul id="summary-obstacles" class="space-y-1">
                            <li class="flex items-start">
                                <i class="fas fa-circle text-yellow-500 text-xs mt-1.5 mr-2"></i>
                                <span class="text-gray-600">Difficulty saying "no"</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fas fa-circle text-yellow-500 text-xs mt-1.5 mr-2"></i>
                                <span class="text-gray-600">Work overload</span>
                            </li>
                        </ul>
                    </div>
                    
                    <!-- Strengths -->
                    <div class="bg-white rounded-lg shadow-sm p-4 mb-6">
                        <h3 data-i18n="summary.strengths" class="font-medium text-gray-800 mb-2">Strengths</h3>
                        <ul id="summary-strengths" class="space-y-1">
                            <li class="flex items-start">
                                <i class="fas fa-circle text-green-500 text-xs mt-1.5 mr-2"></i>
                                <span class="text-gray-600">Commitment to change</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fas fa-circle text-green-500 text-xs mt-1.5 mr-2"></i>
                                <span class="text-gray-600">Self-awareness</span>
                            </li>
                        </ul>
                    </div>
                    
                    <!-- Recommendations -->
                    <div class="bg-white rounded-lg shadow-sm p-4 mb-6">
                        <h3 data-i18n="summary.recommendations" class="font-medium text-gray-800 mb-2">Recommendations</h3>
                        <ul id="summary-recommendations" class="space-y-1">
                            <li class="flex items-start">
                                <i class="fas fa-circle text-blue-500 text-xs mt-1.5 mr-2"></i>
                                <span class="text-gray-600">Practice time management techniques</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fas fa-circle text-blue-500 text-xs mt-1.5 mr-2"></i>
                                <span class="text-gray-600">Establish clear boundaries with work</span>
                            </li>
                        </ul>
                    </div>
                    
                    <!-- Questions -->
                    <div class="bg-white rounded-lg shadow-sm p-4 mb-6">
                        <h3 data-i18n="summary.questions" class="font-medium text-gray-800 mb-2">Reflection Questions</h3>
                        <ul id="summary-questions" class="space-y-1">
                            <li class="flex items-start">
                                <i class="fas fa-circle text-purple-500 text-xs mt-1.5 mr-2"></i>
                                <span class="text-gray-600">What activities give me energy and which drain me?</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fas fa-circle text-purple-500 text-xs mt-1.5 mr-2"></i>
                                <span class="text-gray-600">How can I communicate my boundaries effectively?</span>
                            </li>
                        </ul>
                    </div>
                    
                    <!-- Markers -->
                    <div class="bg-white rounded-lg shadow-sm p-4 mb-6">
                        <h3 data-i18n="summary.markers" class="font-medium text-gray-800 mb-2">Markers</h3>
                        <div id="summary-markers" class="space-y-2">
                            <div class="flex items-center">
                                <div class="w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center mr-3">
                                    <i class="fas fa-lightbulb text-blue-500 text-sm"></i>
                                </div>
                                <div>
                                    <div class="text-sm font-medium text-gray-800">Insight</div>
                                    <div class="text-xs text-gray-500">00:05:23</div>
                                </div>
                            </div>
                            <div class="flex items-center">
                                <div class="w-8 h-8 rounded-full bg-green-100 flex items-center justify-center mr-3">
                                    <i class="fas fa-tasks text-green-500 text-sm"></i>
                                </div>
                                <div>
                                    <div class="text-sm font-medium text-gray-800">Task</div>
                                    <div class="text-xs text-gray-500">00:12:45</div>
                                </div>
                            </div>
                            <div class="flex items-center">
                                <div class="w-8 h-8 rounded-full bg-purple-100 flex items-center justify-center mr-3">
                                    <i class="fas fa-bullseye text-purple-500 text-sm"></i>
                                </div>
                                <div>
                                    <div class="text-sm font-medium text-gray-800">Goal</div>
                                    <div class="text-xs text-gray-500">00:18:30</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Action Buttons -->
                    <div class="flex space-x-3 mb-6">
                        <button id="export-btn" class="flex-1 py-2 px-4 border border-gray-300 rounded-lg text-gray-700 font-medium">
                            <i class="fas fa-download mr-2"></i>
                            <span data-i18n="summary.export">Export</span>
                        </button>
                        <button id="schedule-btn" class="flex-1 py-2 px-4 border border-gray-300 rounded-lg text-gray-700 font-medium">
                            <i class="fas fa-calendar-alt mr-2"></i>
                            <span data-i18n="summary.schedule">Schedule</span>
                        </button>
                        <button id="delete-btn" class="flex-1 py-2 px-4 border border-red-300 rounded-lg text-red-600 font-medium">
                            <i class="fas fa-trash-alt mr-2"></i>
                            <span data-i18n="summary.delete">Delete</span>
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Clients Screen -->
            <div id="clients-screen" class="screen p-6">
                <div class="mb-6">
                    <h2 data-i18n="clients.title" class="text-xl font-bold text-gray-800 mb-4">Clients</h2>
                    
                    <!-- Search Bar -->
                    <div class="relative mb-6">
                        <input type="text" id="client-search" data-i18n-placeholder="clients.searchPlaceholder" placeholder="Search client..." class="w-full py-3 pl-10 pr-4 bg-gray-100 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500">
                        <i class="fas fa-search absolute left-3 top-3.5 text-gray-400"></i>
                    </div>
                    
                    <!-- Clients List -->
                    <div id="clients-list" class="space-y-4">
                        <div class="client-item bg-white rounded-lg shadow-sm p-4 flex items-center cursor-pointer" data-client-id="1">
                            <div class="w-12 h-12 rounded-full bg-indigo-100 flex items-center justify-center mr-4">
                                <span class="text-indigo-600 font-medium">JD</span>
                            </div>
                            <div class="flex-1">
                                <h3 class="font-medium text-gray-800">John Doe</h3>
                                <p class="text-sm text-gray-500">Last session: 15/05/2023</p>
                            </div>
                            <i class="fas fa-chevron-right text-gray-400"></i>
                        </div>
                        
                        <div class="client-item bg-white rounded-lg shadow-sm p-4 flex items-center cursor-pointer" data-client-id="2">
                            <div class="w-12 h-12 rounded-full bg-pink-100 flex items-center justify-center mr-4">
                                <span class="text-pink-600 font-medium">MG</span>
                            </div>
                            <div class="flex-1">
                                <h3 class="font-medium text-gray-800">Maria Garcia</h3>
                                <p class="text-sm text-gray-500">Last session: 10/05/2023</p>
                            </div>
                            <i class="fas fa-chevron-right text-gray-400"></i>
                        </div>
                        
                        <div class="client-item bg-white rounded-lg shadow-sm p-4 flex items-center cursor-pointer" data-client-id="3">
                            <div class="w-12 h-12 rounded-full bg-green-100 flex items-center justify-center mr-4">
                                <span class="text-green-600 font-medium">PL</span>
                            </div>
                            <div class="flex-1">
                                <h3 class="font-medium text-gray-800">Peter Lee</h3>
                                <p class="text-sm text-gray-500">Last session: 05/05/2023</p>
                            </div>
                            <i class="fas fa-chevron-right text-gray-400"></i>
                        </div>
                        
                        <div class="client-item bg-white rounded-lg shadow-sm p-4 flex items-center cursor-pointer" data-client-id="4">
                            <div class="w-12 h-12 rounded-full bg-yellow-100 flex items-center justify-center mr-4">
                                <span class="text-yellow-600 font-medium">AM</span>
                            </div>
                            <div class="flex-1">
                                <h3 class="font-medium text-gray-800">Anna Martinez</h3>
                                <p class="text-sm text-gray-500">Last session: 28/04/2023</p>
                            </div>
                            <i class="fas fa-chevron-right text-gray-400"></i>
                        </div>
                    </div>
                    
                    <!-- Add Client Button -->
                    <button id="add-client-btn" class="w-full mt-6 py-3 px-4 border-2 border-dashed border-gray-300 rounded-lg text-gray-500 font-medium flex items-center justify-center">
                        <i class="fas fa-plus mr-2"></i>
                        <span data-i18n="clients.addClient">Add Client</span>
                    </button>
                </div>
            </div>
            
            <!-- Client Detail Screen -->
            <div id="client-detail-screen" class="screen p-6">
                <div class="mb-6">
                    <div class="flex items-center mb-6">
                        <button id="back-to-clients-btn" class="mr-4 text-gray-600">
                            <i class="fas fa-arrow-left"></i>
                        </button>
                        <h2 data-i18n="clientDetail.title" class="text-xl font-bold text-gray-800">Client Details</h2>
                    </div>
                    
                    <!-- Client Info -->
                    <div class="bg-white rounded-lg shadow-sm p-4 mb-6">
                        <div class="flex items-center mb-4">
                            <div id="client-avatar" class="w-16 h-16 rounded-full bg-indigo-100 flex items-center justify-center mr-4">
                                <span class="text-indigo-600 font-medium text-xl">JD</span>
                            </div>
                            <div>
                                <h3 id="client-name" class="text-lg font-bold text-gray-800">John Doe</h3>
                                <p id="client-email" class="text-gray-600">john.doe@example.com</p>
                            </div>
                        </div>
                        <div class="grid grid-cols-2 gap-4">
                            <div>
                                <p class="text-sm text-gray-500">Phone</p>
                                <p id="client-phone" class="font-medium">+1 555 123 4567</p>
                            </div>
                            <div>
                                <p class="text-sm text-gray-500">Last Session</p>
                                <p id="client-last-session" class="font-medium">15/05/2023</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Session History -->
                    <div class="mb-6">
                        <h3 data-i18n="clientDetail.sessionHistory" class="text-lg font-bold text-gray-800 mb-4">Session History</h3>
                        <div id="session-history" class="space-y-3">
                            <div class="session-item bg-white rounded-lg shadow-sm p-4 cursor-pointer" data-session-id="1">
                                <div class="flex justify-between items-center mb-2">
                                    <h4 class="font-medium text-gray-800">Coaching Session</h4>
                                    <span class="text-sm text-gray-500">15/05/2023</span>
                                </div>
                                <p class="text-sm text-gray-600 mb-2">Work-life balance and time management</p>
                                <div class="flex items-center text-sm text-gray-500">
                                    <i class="fas fa-clock mr-1"></i>
                                    <span>45 min</span>
                                    <i class="fas fa-file-alt ml-4 mr-1"></i>
                                    <span>Summary available</span>
                                </div>
                            </div>
                            
                            <div class="session-item bg-white rounded-lg shadow-sm p-4 cursor-pointer" data-session-id="2">
                                <div class="flex justify-between items-center mb-2">
                                    <h4 class="font-medium text-gray-800">Coaching Session</h4>
                                    <span class="text-sm text-gray-500">08/05/2023</span>
                                </div>
                                <p class="text-sm text-gray-600 mb-2">Setting professional goals</p>
                                <div class="flex items-center text-sm text-gray-500">
                                    <i class="fas fa-clock mr-1"></i>
                                    <span>60 min</span>
                                    <i class="fas fa-file-alt ml-4 mr-1"></i>
                                    <span>Summary available</span>
                                </div>
                            </div>
                            
                            <div class="session-item bg-white rounded-lg shadow-sm p-4 cursor-pointer" data-session-id="3">
                                <div class="flex justify-between items-center mb-2">
                                    <h4 class="font-medium text-gray-800">Coaching Session</h4>
                                    <span class="text-sm text-gray-500">01/05/2023</span>
                                </div>
                                <p class="text-sm text-gray-600 mb-2">Identifying strengths and areas for improvement</p>
                                <div class="flex items-center text-sm text-gray-500">
                                    <i class="fas fa-clock mr-1"></i>
                                    <span>50 min</span>
                                    <i class="fas fa-file-alt ml-4 mr-1"></i>
                                    <span>Summary available</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Action Buttons -->
                    <div class="flex space-x-3">
                        <button id="new-session-client-btn" class="flex-1 gradient-button text-white font-medium py-3 px-4 rounded-lg">
                            <i class="fas fa-plus mr-2"></i>
                            <span data-i18n="clientDetail.newSession">New Session</span>
                        </button>
                        <button id="edit-client-btn" class="flex-1 py-3 px-4 border border-gray-300 rounded-lg text-gray-700 font-medium">
                            <i class="fas fa-edit mr-2"></i>
                            <span data-i18n="clientDetail.edit">Edit</span>
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Settings Screen -->
            <div id="settings-screen" class="screen p-6">
                <div class="mb-6">
                    <h2 data-i18n="settings.title" class="text-xl font-bold text-gray-800 mb-6">Settings</h2>
                    
                    <!-- User Account -->
                    <div class="bg-white rounded-lg shadow-sm p-4 mb-4">
                        <div class="flex items-center mb-3">
                            <img id="settings-user-avatar" src="https://picsum.photos/seed/user/40/40.jpg" class="w-10 h-10 rounded-full mr-3">
                            <div>
                                <h3 id="settings-user-name" class="font-medium text-gray-800">Coach User</h3>
                                <p id="settings-user-email" class="text-sm text-gray-600">user@example.com</p>
                            </div>
                        </div>
                        <button id="signout-settings-btn" class="text-indigo-600 font-medium">
                            <span data-i18n="auth.signOut">Sign Out</span>
                        </button>
                    </div>
                    
                    <!-- Language Setting -->
                    <div class="bg-white rounded-lg shadow-sm p-4 mb-4">
                        <div class="flex items-center justify-between mb-2">
                            <h3 data-i18n="settings.language" class="font-medium text-gray-800">Language</h3>
                            <button id="settings-language-btn" class="text-indigo-600 font-medium">
                                English <i class="fas fa-chevron-right ml-1"></i>
                            </button>
                        </div>
                    </div>
                    
                    <!-- Plan Information -->
                    <div class="bg-white rounded-lg shadow-sm p-4 mb-4">
                        <div class="flex items-center justify-between mb-2">
                            <h3 class="font-medium text-gray-800">Current Plan</h3>
                            <span id="current-plan-name" class="text-indigo-600 font-medium">Not activated</span>
                        </div>
                        <p id="current-plan-details" class="text-sm text-gray-600 mb-2">Activate your account to unlock all features</p>
                        <button id="upgrade-plan-btn" class="text-indigo-600 font-medium">
                            Upgrade Plan
                        </button>
                    </div>
                    
                    <!-- About -->
                    <div class="bg-white rounded-lg shadow-sm p-4 mb-4">
                        <div class="flex items-center justify-between mb-2">
                            <h3 class="font-medium text-gray-800">About</h3>
                            <span class="text-gray-600 text-sm">v1.0.0</span>
                        </div>
                        <p class="text-sm text-gray-600">The Coach Scribe - Transform your coaching practice with AI</p>
                    </div>
                </div>
            </div>
            
            <!-- Bottom Navigation -->
            <div class="bottom-nav">
                <div class="nav-item active" data-screen="home-screen">
                    <i class="fas fa-home text-xl mb-1"></i>
                    <span class="text-xs">Home</span>
                </div>
                <div class="nav-item" data-screen="clients-screen">
                    <i class="fas fa-users text-xl mb-1"></i>
                    <span class="text-xs">Clients</span>
                </div>
                <div class="nav-item" data-screen="settings-screen">
                    <i class="fas fa-cog text-xl mb-1"></i>
                    <span class="text-xs">Settings</span>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Toast Notification -->
    <div id="toast" class="toast"></div>
    
    <!-- Modals -->
    <div id="token-modal" class="modal">
        <div class="modal-content">
            <h3 class="text-lg font-bold mb-4">Activación Exitosa</h3>
            <p class="mb-4">Tu cuenta ha sido activada correctamente. Ahora puedes disfrutar de todas las funciones de The Coach Scribe.</p>
            <button id="close-modal-btn" class="w-full py-2 bg-indigo-600 text-white rounded-lg">Continuar</button>
        </div>
    </div>
    
    <!-- App JavaScript -->
    <script src="./app.js"></script>
</body>
</html>

